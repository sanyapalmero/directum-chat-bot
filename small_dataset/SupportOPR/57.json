{
    "support": "support opr",
    "messages": [
        {
            "sender": "user",
            "message": "привет, к нам обратился партнер с интересным вопросом. контекст: в одном деле могут быть документы с одинаковым рег. номером, но зарегистрированным в разных календарных годах. например, организация получила входящее письмо в году. ответ регистрируется в году, но направляется в дело года. при этом нумерация с года новая, соответственно рег. номер может повторяться. вопрос: каким образом направить документы разных лет в одно дело? есть какое то обходное решение в подобных случаях?"
        },
        {
            "sender": "user",
            "message": "обращение: каким образом направить документы разных <url>"
        },
        {
            "sender": "user",
            "message": "выходит сообщение: в пределах места регистрации и журнала регистрации рег. номер должен быть уникальным. укажите уникальный рег. номер"
        },
        {
            "sender": "support",
            "message": "привет. я бы предложил реализовать сценарий по переносу дел с изменением рег. номера, но в таком случае надо учесть где этот рег.номер используется. досконально я всю разработку не знаю, а ответственный за канцелярию сейчас в отпуске. сообщение для пользователя <person> <person> не доставлено, так как получатель просит не беспокоить. привет. я бы предложил реализовать сценарий по переносу дел с изменением рег. номера, но в таком случае надо учесть где этот рег.номер используется. досконально я всю разработку не знаю, а ответственный за канцелярию сейчас в отпуске."
        },
        {
            "sender": "support",
            "message": "привет. я бы предложил реализовать сценарий по переносу дел с изменением рег. номера, но в таком случае надо учесть где этот рег.номер используется. досконально я всю разработку не знаю, а ответственный за канцелярию сейчас в отпуске."
        },
        {
            "sender": "user",
            "message": "т.е. стандартной настройки нету верно?"
        },
        {
            "sender": "support",
            "message": "насколько я знаю, нет."
        },
        {
            "sender": "support",
            "message": "а вообще, вот есть какой-то блок <url>"
        },
        {
            "sender": "user",
            "message": "он не упадет с ошибкой если будут рег номера совпадать?:)) мне кажется шлепнется"
        },
        {
            "sender": "support",
            "message": "из описания не понятно. надо тестить ну судя по коду, там обычное присвоение в реквизит, так что да, скорее всего упадет. значит подобные ситуации в стандартной не рассматривались."
        },
        {
            "sender": "user",
            "message": "ну да, я тоже так думаю спасибо, предложу сценарий!"
        },
        {
            "sender": "support",
            "message": "не за что. сценарий-то вряд ли поможет, обходное-то не получилось найти. видимо, придется замечание оформлять."
        },
        {
            "sender": "user",
            "message": "не понял последнее, всетаки не получается пройтись сценарием?) упадет и сценарий?"
        },
        {
            "sender": "support",
            "message": "пройтись получится, но вряд ли он правильно обработает ситуацию с повторяющимися рег. номерами. что-то мне подсказывате, что упадет и сценарий. если у тебя есть подходящий стенд, проверь сначала на нем."
        },
        {
            "sender": "user",
            "message": "к сожалению я сценарий сам врятли запилю стендов полно)"
        },
        {
            "sender": "support",
            "message": "а стоп. в общем, блок имеет тип \"сценарий\", видимо, меня это запутало. я предлагаю так: проверь на стенде вариант с блоком типового маршрута, если не поможет, то тогда предложить сценарий, но тогда уже они либо сами пишут его, либо просят заказную."
        },
        {
            "sender": "user",
            "message": "логика в сценарии какая должна быть?"
        },
        {
            "sender": "support",
            "message": "я бы предложил вариант с формированием списка ркк (можно через открытие справочника в режиме выбора), потом указать дело, в которое необходимо перенести (тоже можно через выбор). дальше менять рег. номер у ркк (я бы предложил вариант \"текущий номер (год)\"). после этого в реквизит \"дело\" записать код выбранного дела. ну и правильней еще было бы сделать по аналогии с рассмотренным блоком менять реквизит \"направлен(ы) в дело\" на текущую дату. перед сохранением ркк, кстати, в том блоке события отключаются (ну и, понятное дело, после сохранения, включаются)."
        }
    ]
}